System.register(["./index-legacy-DYukvibz.js","./index-legacy-BFvFMDVu.js","./index-legacy-BBfXHlBt.js","./inline-px-to-vw-legacy-BbQYi9uk.js","./index-legacy-CaGT3NsQ.js","./route-block-legacy-LtztSDKr.js","./toNumber-legacy-D66XGrMU.js","./index-legacy-Df_7Fug7.js"],function(e,l){"use strict";var a,s,o,d,r,i,n,m,u,t,c,p,f,g,y,v,w,x,V,h,k,b;return{setters:[e=>{a=e.F,s=e.a,o=e._},e=>{d=e.d,r=e.s,i=e.D,n=e.v,m=e.E,u=e.f,t=e.j,c=e.o,p=e.b,f=e.l,g=e.k,y=e.p,v=e.G,w=e.C,x=e.H,V=e.J},null,e=>{h=e.v},e=>{k=e.B},e=>{b=e.b},null,null],execute:function(){const l={class:"m-x-a text-center w-7xl"},j={class:"rounded-3xl overflow-hidden"},_={class:"mt-16 rounded-3xl overflow-hidden"},q={class:"mt-16 rounded-3xl overflow-hidden"},P={class:"mt-16 rounded-3xl overflow-hidden"},M={class:"mt-16 rounded-3xl overflow-hidden"},U={class:"mt-16"},C=e("default",d({__name:"index",setup(e){const d=r(),b=i(),C=n(!1),S=m({email:"",code:"",nickname:"",password:"",confirmPassword:""}),z=m({email:[{required:!0,message:"请输入邮箱"}],code:[{required:!0,message:"请输入验证码"}],nickname:[{required:!0,message:"请输入昵称"}],password:[{required:!0,message:"请输入密码"}],confirmPassword:[{required:!0,message:"请再次输入密码"},{required:!0,validator:e=>e===S.password,message:"两次输入的密码不一致"}]});async function B(){try{C.value=!0,0===(await b.register()).code&&(V({type:"success",message:"注册成功"}),d.push({name:"Login"}))}finally{C.value=!1}}const D=n(!1),E=u(()=>D.value?"获取中":"获取验证码");async function F(){if(!S.email)return void V({type:"warning",message:"请输入邮箱"});D.value=!0;const e=await b.getCode();0===e.code&&V({type:"success",message:`已发送，验证码为: ${e.result}`}),D.value=!1}return(e,d)=>{const r=a,i=k,n=s,m=o;return c(),t("div",l,[p(n,{model:y(S),rules:y(z),"validate-trigger":"onSubmit",onSubmit:B},{default:f(()=>[g("div",j,[p(r,{modelValue:y(S).email,"onUpdate:modelValue":d[0]||(d[0]=e=>y(S).email=e),modelModifiers:{trim:!0},rules:y(z).email,name:"email",placeholder:"邮箱"},null,8,["modelValue","rules"])]),g("div",_,[p(r,{modelValue:y(S).code,"onUpdate:modelValue":d[1]||(d[1]=e=>y(S).code=e),modelModifiers:{trim:!0},rules:y(z).code,name:"code",placeholder:"验证码"},{button:f(()=>[p(i,{size:"small",type:"primary",plain:"",onClick:F},{default:f(()=>[v(w(y(E)),1)]),_:1})]),_:1},8,["modelValue","rules"])]),g("div",q,[p(r,{modelValue:y(S).nickname,"onUpdate:modelValue":d[2]||(d[2]=e=>y(S).nickname=e),modelModifiers:{trim:!0},rules:y(z).nickname,name:"nickname",placeholder:"昵称"},null,8,["modelValue","rules"])]),g("div",P,[p(r,{modelValue:y(S).password,"onUpdate:modelValue":d[3]||(d[3]=e=>y(S).password=e),modelModifiers:{trim:!0},type:"password",rules:y(z).password,name:"password",placeholder:"密码"},null,8,["modelValue","rules"])]),g("div",M,[p(r,{modelValue:y(S).confirmPassword,"onUpdate:modelValue":d[4]||(d[4]=e=>y(S).confirmPassword=e),modelModifiers:{trim:!0},type:"password",rules:y(z).confirmPassword,name:"confirmPassword",placeholder:"再次输入密码"},null,8,["modelValue","rules"])]),g("div",U,[p(i,{loading:y(C),type:"primary","native-type":"submit",round:"",block:""},{default:f(()=>[...d[5]||(d[5]=[v(w("确认"),-1)])]),_:1},8,["loading"])])]),_:1},8,["model","rules"]),p(m,{to:"login",block:"",style:x({"margin-top":y(h)(8)})},{default:f(()=>[...d[6]||(d[6]=[v(w("返回登录"),-1)])]),_:1},8,["style"])])}}}));"function"==typeof b&&b(C)}}});
