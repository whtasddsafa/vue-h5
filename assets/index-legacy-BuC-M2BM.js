System.register(["./index-legacy-BFvFMDVu.js"],function(r,o){"use strict";var e,i,n,l,a,t,s,c,d,u,g,v,f,h,y,p,S,m,w,b,z;return{setters:[r=>{e=r.d,i=r._,n=r.L,l=r.n,a=r.c,t=r.v,s=r.h,c=r.f,d=r.e,u=r.S,g=r.x,v=r.$,f=r.a0,h=r.y,y=r.T,p=r.b,S=r.N,m=r.a1,w=r.P,b=r.I,z=r.w}],execute:function(){const[o,L]=a("image"),x={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:l,height:l,radius:l,lazyLoad:Boolean,iconSize:l,showError:n,errorIcon:i("photo-fail"),iconPrefix:String,showLoading:n,loadingIcon:i("photo"),crossorigin:String,referrerpolicy:String,decoding:String};var I=e({name:o,props:x,emits:["load","error"],setup(r,{emit:o,slots:e}){const i=t(!1),n=t(!0),l=t(),{$Lazyload:a}=s().proxy,z=c(()=>{const o={width:d(r.width),height:d(r.height)};return u(r.radius)&&(o.overflow="hidden",o.borderRadius=d(r.radius)),o});g(()=>r.src,()=>{i.value=!1,n.value=!0});const x=r=>{n.value&&(n.value=!1,o("load",r))},I=()=>{const r=new Event("load");Object.defineProperty(r,"target",{value:l.value,enumerable:!0}),x(r)},P=r=>{i.value=!0,n.value=!1,o("error",r)},$=(o,e,i)=>i?i():p(b,{name:o,size:r.iconSize,class:e,classPrefix:r.iconPrefix},null),j=()=>{if(i.value||!r.src)return;const o={alt:r.alt,class:L("img"),decoding:r.decoding,style:{objectFit:r.fit,objectPosition:r.position},crossorigin:r.crossorigin,referrerpolicy:r.referrerpolicy};return r.lazyLoad?S(p("img",w({ref:l},o),null),[[m("lazy"),r.src]]):p("img",w({ref:l,src:r.src,onLoad:x,onError:P},o),null)},E=({el:r})=>{const o=()=>{r===l.value&&n.value&&I()};l.value?o():y(o)},k=({el:r})=>{r!==l.value||i.value||P()};return a&&v&&(a.$on("loaded",E),a.$on("error",k),f(()=>{a.$off("loaded",E),a.$off("error",k)})),h(()=>{y(()=>{var o;(null==(o=l.value)?void 0:o.complete)&&!r.lazyLoad&&I()})}),()=>{var o;return p("div",{class:L({round:r.round,block:r.block}),style:z.value},[j(),n.value&&r.showLoading?p("div",{class:L("loading")},[$(r.loadingIcon,L("loading-icon"),e.loading)]):i.value&&r.showError?p("div",{class:L("error")},[$(r.errorIcon,L("error-icon"),e.error)]):void 0,null==(o=e.default)?void 0:o.call(e)])}}});r("I",z(I))}}});
