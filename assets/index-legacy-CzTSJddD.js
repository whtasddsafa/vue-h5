System.register(["./index-legacy-Cm7eZHc3.js","./index-legacy-Z-elBhYf.js","./route-block-legacy-LtztSDKr.js"],function(e,t){"use strict";var n,o,l,i,a,s,r,c,d,u,f,p,v,x,g,h,m,y,b,w,T,k,C,H,z,M,S,j,B,L,A,E,_,N;return{setters:[e=>{n=e.as,o=e.d,l=e.B,i=e.a2,a=e.A,s=e.C,r=e.r,c=e.at,d=e.p,u=e.w,f=e.au,p=e.f,v=e.ag,x=e.an,g=e.e,h=e.O,m=e.av,y=e.aw,b=e.U,w=e.ax,T=e.ay,k=e.az,C=e.W,H=e.o,z=e.q,M=e.a,S=e.c,j=e.F,B=e.ad,L=e.b,A=e.t,E=e.k},e=>{_=e.L},e=>{N=e.b}],execute:function(){const t=Symbol(),[O,P,U]=s("list"),q={error:Boolean,offset:a(300),loading:Boolean,disabled:Boolean,finished:Boolean,scroller:Object,errorText:String,direction:i("down"),loadingText:String,finishedText:String,immediateCheck:l};var F=o({name:O,props:q,emits:["load","update:error","update:loading"],setup(e,{emit:o,slots:l}){const i=r(e.loading),a=r(),s=r(),b=n(t,null),w=c(a),T=d(()=>e.scroller||w.value),k=()=>{h(()=>{if(i.value||e.finished||e.disabled||e.error||!1===(null==b?void 0:b.value))return;const{direction:t}=e,n=+e.offset,l=m(T);if(!l.height||y(a))return;let r=!1;const c=m(s);r="up"===t?l.top-c.top<=n:c.bottom-l.bottom<=n,r&&(i.value=!0,o("update:loading",!0),o("load"))})},C=()=>{if(e.finished){const t=l.finished?l.finished():e.finishedText;if(t)return g("div",{class:P("finished-text")},[t])}},H=()=>{o("update:error",!1),k()},z=()=>{if(e.error){const t=l.error?l.error():e.errorText;if(t)return g("div",{role:"button",class:P("error-text"),tabindex:0,onClick:H},[t])}},M=()=>{if(i.value&&!e.finished&&!e.disabled)return g("div",{class:P("loading")},[l.loading?l.loading():g(_,{class:P("loading-icon")},{default:()=>[e.loadingText||U("loading")]})])};return u(()=>[e.loading,e.finished,e.error],k),b&&u(b,e=>{e&&k()}),f(()=>{i.value=e.loading}),p(()=>{e.immediateCheck&&k()}),v({check:k}),x("scroll",k,{target:T,passive:!0}),()=>{var t;const n=null==(t=l.default)?void 0:t.call(l),o=g("div",{ref:s,class:P("placeholder")},null);return g("div",{ref:a,role:"feed",class:P(),"aria-busy":i.value},["down"===e.direction?n:o,M(),C(),z(),"up"===e.direction?n:o])}}});const I=b(F),[V,W]=s("text-ellipsis"),Y={rows:a(1),dots:i("..."),content:i(""),expandText:i(""),collapseText:i(""),position:i("end")};var $=o({name:V,props:Y,emits:["clickAction"],setup(e,{emit:t,slots:n}){const o=r(e.content),l=r(!1),i=r(!1),a=r(),s=r();let c=!1;const f=d(()=>l.value?e.collapseText:e.expandText),x=e=>{if(!e)return 0;const t=e.match(/^\d*(\.\d*)?/);return t?Number(t[0]):0},m=()=>{const t=(()=>{if(!a.value||!a.value.isConnected)return;const t=window.getComputedStyle(a.value),n=document.createElement("div");return Array.prototype.slice.apply(t).forEach(e=>{n.style.setProperty(e,t.getPropertyValue(e))}),n.style.position="fixed",n.style.zIndex="-9999",n.style.top="-9999px",n.style.height="auto",n.style.minHeight="auto",n.style.maxHeight="auto",n.innerText=e.content,document.body.appendChild(n),n})();if(!t)return void(c=!0);const{paddingBottom:l,paddingTop:r,lineHeight:d}=t.style,u=Math.ceil((Number(e.rows)+.5)*x(d)+x(r)+x(l));u<t.offsetHeight?(i.value=!0,o.value=((t,o)=>{var l,i;const{content:a,position:r,dots:c}=e,d=a.length,u=0+d>>1,f=n.action?null!=(i=null==(l=s.value)?void 0:l.outerHTML)?i:"":e.expandText,p=(n,l)=>{if(n[1]-n[0]<=1&&l[1]-l[0]<=1)return a.slice(0,n[0])+c+a.slice(l[1],d);const i=Math.floor((n[0]+n[1])/2),s=Math.ceil((l[0]+l[1])/2);return t.innerText=e.content.slice(0,i)+e.dots+e.content.slice(s,d),t.innerHTML+=f,t.offsetHeight>=o?p([n[0],i],[s,l[1]]):p([i,n[1]],[l[0],s])};return"middle"===e.position?p([0,u],[u,d]):(()=>{const e=(n,l)=>{if(l-n<=1)return"end"===r?a.slice(0,n)+c:c+a.slice(l,d);const i=Math.round((n+l)/2);return t.innerText="end"===r?a.slice(0,i)+c:c+a.slice(i,d),t.innerHTML+=f,t.offsetHeight>o?"end"===r?e(n,i):e(i,l):"end"===r?e(i,l):e(n,i)};return e(0,d)})()})(t,u)):(i.value=!1,o.value=e.content),document.body.removeChild(t)},y=(e=!l.value)=>{l.value=e},b=e=>{y(),t("clickAction",e)},k=()=>{const e=n.action?n.action({expanded:l.value}):f.value;return g("span",{ref:s,class:W("action"),onClick:b},[e])};return p(()=>{m(),n.action&&h(m)}),w(()=>{c&&(c=!1,m())}),u([T,()=>[e.content,e.rows,e.position]],m),v({toggle:y}),()=>g("div",{ref:a,class:W()},[l.value?e.content:o.value,i.value?k():null])}});const D=b($),G={class:"space-y-10"},J={class:"shrink-0"},K={class:"rounded-full bg-gray-500/20 flex h-48 w-48 items-center justify-center overflow-hidden"},Q={class:"text-[16px] text-zinc-600 tabular-nums dark:text-zinc-400"},R={class:"flex-1 min-w-0"},X={class:"mb-2 flex flex-row gap-1 w-full justify-between"},Z={class:"text-[16px] text-zinc-600 tracking-tight font-semibold w-1/2 dark:text-white"},ee={class:"text-[14px] text-zinc-500"},te=e("default",o({name:"ScrollCache",__name:"index",setup(e){const t=r(!1),n=r(!1),o=r([]);function l(){setTimeout(()=>{for(let e=0;e<10;e++)o.value.push(`${o.value.length+1}`);t.value=!1,o.value.length>=40&&(n.value=!0)},1e3)}const i=r(0);return w(()=>{window.scrollTo(0,i.value)}),k(()=>{i.value=window.scrollY||document.documentElement.scrollTop||document.body.scrollTop}),(e,i)=>{const a=D,s=I;return H(),C(s,{loading:L(t),"onUpdate:loading":i[0]||(i[0]=e=>E(t)?t.value=e:null),finished:L(n),"finished-text":"已经到底啦 ~","loading-text":"加载中...",onLoad:l},{default:z(()=>[M("ul",G,[(H(!0),S(j,null,B(L(o),e=>(H(),S("li",{key:e,class:"p-3 flex gap-12"},[M("div",J,[M("div",K,[M("span",Q,A(e),1)])]),M("div",R,[M("div",X,[M("h3",Z,[g(a,{content:"段落标题"})]),i[1]||(i[1]=M("time",{class:"text-[12px] text-zinc-400 tabular-nums"},"2025-05-16",-1))]),M("p",ee,[g(a,{rows:2,content:"段落内容段落内容段落内容段落内容段落内容段落内容"})])])]))),128))])]),_:1},8,["loading","finished"])}}}));"function"==typeof N&&N(te)}}});
