System.register(["./inline-px-to-vw-legacy-BHusPXy1.js","./index-legacy-Cm7eZHc3.js","./index-legacy-dX6qZhyv.js","./index-legacy-q6DLTRRk.js","./index-legacy-D0mG5ucj.js","./route-block-legacy-LtztSDKr.js","./toNumber-legacy-D66XGrMU.js","./index-legacy-Z-elBhYf.js"],function(e,l){"use strict";var a,s,o,d,r,n,i,m,u,t,c,p,f,g,y,v,w,x,V,h,k,b;return{setters:[e=>{a=e.v,s=e._},e=>{o=e.d,d=e.l,r=e.m,n=e.r,i=e.n,m=e.p,u=e.c,t=e.o,c=e.e,p=e.q,f=e.a,g=e.b,y=e.v,v=e.t,w=e.x,x=e.y},null,e=>{V=e.F,h=e.a},e=>{k=e.B},e=>{b=e.b},null,null],execute:function(){const l={class:"m-x-a text-center w-7xl"},j={class:"rounded-3xl overflow-hidden"},_={class:"mt-16 rounded-3xl overflow-hidden"},q={class:"mt-16 rounded-3xl overflow-hidden"},P={class:"mt-16 rounded-3xl overflow-hidden"},M={class:"mt-16 rounded-3xl overflow-hidden"},U={class:"mt-16"},S=e("default",o({__name:"index",setup(e){const o=d(),b=r(),S=n(!1),C=i({email:"",code:"",nickname:"",password:"",confirmPassword:""}),z=i({email:[{required:!0,message:"请输入邮箱"}],code:[{required:!0,message:"请输入验证码"}],nickname:[{required:!0,message:"请输入昵称"}],password:[{required:!0,message:"请输入密码"}],confirmPassword:[{required:!0,message:"请再次输入密码"},{required:!0,validator:e=>e===C.password,message:"两次输入的密码不一致"}]});async function B(){try{S.value=!0,0===(await b.register()).code&&(x({type:"success",message:"注册成功"}),o.push({name:"Login"}))}finally{S.value=!1}}const F=n(!1),L=m(()=>F.value?"获取中":"获取验证码");async function N(){if(!C.email)return void x({type:"warning",message:"请输入邮箱"});F.value=!0;const e=await b.getCode();0===e.code&&x({type:"success",message:`已发送，验证码为: ${e.result}`}),F.value=!1}return(e,o)=>{const d=V,r=k,n=h,i=s;return t(),u("div",l,[c(n,{model:g(C),rules:g(z),"validate-trigger":"onSubmit",onSubmit:B},{default:p(()=>[f("div",j,[c(d,{modelValue:g(C).email,"onUpdate:modelValue":o[0]||(o[0]=e=>g(C).email=e),modelModifiers:{trim:!0},rules:g(z).email,name:"email",placeholder:"邮箱"},null,8,["modelValue","rules"])]),f("div",_,[c(d,{modelValue:g(C).code,"onUpdate:modelValue":o[1]||(o[1]=e=>g(C).code=e),modelModifiers:{trim:!0},rules:g(z).code,name:"code",placeholder:"验证码"},{button:p(()=>[c(r,{size:"small",type:"primary",plain:"",onClick:N},{default:p(()=>[y(v(g(L)),1)]),_:1})]),_:1},8,["modelValue","rules"])]),f("div",q,[c(d,{modelValue:g(C).nickname,"onUpdate:modelValue":o[2]||(o[2]=e=>g(C).nickname=e),modelModifiers:{trim:!0},rules:g(z).nickname,name:"nickname",placeholder:"昵称"},null,8,["modelValue","rules"])]),f("div",P,[c(d,{modelValue:g(C).password,"onUpdate:modelValue":o[3]||(o[3]=e=>g(C).password=e),modelModifiers:{trim:!0},type:"password",rules:g(z).password,name:"password",placeholder:"密码"},null,8,["modelValue","rules"])]),f("div",M,[c(d,{modelValue:g(C).confirmPassword,"onUpdate:modelValue":o[4]||(o[4]=e=>g(C).confirmPassword=e),modelModifiers:{trim:!0},type:"password",rules:g(z).confirmPassword,name:"confirmPassword",placeholder:"再次输入密码"},null,8,["modelValue","rules"])]),f("div",U,[c(r,{loading:g(S),type:"primary","native-type":"submit",round:"",block:""},{default:p(()=>[...o[5]||(o[5]=[y(v("确认"),-1)])]),_:1},8,["loading"])])]),_:1},8,["model","rules"]),c(i,{to:"login",block:"",style:w({"margin-top":g(a)(8)})},{default:p(()=>[...o[6]||(o[6]=[y(v("返回登录"),-1)])]),_:1},8,["style"])])}}}));"function"==typeof b&&b(S)}}});
