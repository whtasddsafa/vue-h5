import{d as w,B as v,C as T,r as H,aA as q,af as X,e as a,U as O,Z as C,aB as Y,am as Z,p as x,ag as j,aC as J,n as Q,aD as ee,K,$ as te,a4 as ne,D as oe,a0 as ae,a1 as le,a2 as se,a8 as ce,z as re,aE as D,R as ie,ak as ue,aF as de,aG as fe,a5 as me,ab as Be,ac as ge,m as Ce,c as he,o as E,a as be,q as ve,W as we,X as ye,b as A,t as I,aH as _e,_ as ke}from"./index-BS8FVB4C.js";import{C as pe}from"./index-C0TVZve0.js";import{C as xe}from"./index-DbDsBmEX.js";import{B as S}from"./index-DZB7icrh.js";import{b as N}from"./route-block-B_A1xBdJ.js";import"./index-BVU_NsVF.js";const[$,R]=T("action-bar"),U=Symbol($),Se={placeholder:Boolean,safeAreaInsetBottom:v};var Pe=w({name:$,props:Se,setup(e,{slots:o}){const n=H(),l=q(n,R),{linkChildren:s}=X(U);s();const d=()=>{var u;return a("div",{ref:n,class:[R(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(u=o.default)==null?void 0:u.call(o)])};return()=>e.placeholder?l(d):d()}});const Te=O(Pe),[Oe,De]=T("action-bar-button"),Ee=C({},J,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var Ae=w({name:Oe,props:Ee,setup(e,{slots:o}){const n=Y(),{parent:l,index:s}=Z(U),d=x(()=>{if(l){const c=l.children[s.value-1];return!(c&&"isButton"in c)}}),u=x(()=>{if(l){const c=l.children[s.value+1];return!(c&&"isButton"in c)}});return j({isButton:!0}),()=>{const{type:c,icon:B,text:g,color:y,loading:_,disabled:k}=e;return a(S,{class:De([c,{last:u.value,first:d.value}]),size:"large",type:c,icon:B,color:y,loading:_,disabled:k,onClick:n},{default:()=>[o.default?o.default():g]})}}});const F=O(Ae),[Ie,i,b]=T("dialog"),Ne=C({},le,{title:String,theme:String,width:re,message:[String,Function],callback:Function,allowHtml:Boolean,className:ce,transition:se("van-dialog-bounce"),messageAlign:String,closeOnPopstate:v,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:v,closeOnClickOverlay:Boolean,keyboardEnabled:v,destroyOnClose:Boolean}),Re=[...ne,"transition","closeOnPopstate","destroyOnClose"];var L=w({name:Ie,props:Ne,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:o,slots:n}){const l=H(),s=Q({confirm:!1,cancel:!1}),d=t=>o("update:show",t),u=t=>{var r;d(!1),(r=e.callback)==null||r.call(e,t)},c=t=>()=>{e.show&&(o(t),e.beforeClose?(s[t]=!0,ie(e.beforeClose,{args:[t],done(){u(t),s[t]=!1},canceled(){s[t]=!1}})):u(t))},B=c("cancel"),g=c("confirm"),y=ee(t=>{var r,f;if(!e.keyboardEnabled||t.target!==((f=(r=l.value)==null?void 0:r.popupRef)==null?void 0:f.value))return;({Enter:e.showConfirmButton?g:D,Escape:e.showCancelButton?B:D})[t.key](),o("keydown",t)},["enter","esc"]),_=()=>{const t=n.title?n.title():e.title;if(t)return a("div",{class:i("header",{isolated:!e.message&&!n.default})},[t])},k=t=>{const{message:r,allowHtml:f,messageAlign:m}=e,h=i("message",{"has-title":t,[m]:m}),p=ue(r)?r():r;return f&&typeof p=="string"?a("div",{class:h,innerHTML:p},null):a("div",{class:h},[p])},V=()=>{if(n.default)return a("div",{class:i("content")},[n.default()]);const{title:t,message:r,allowHtml:f}=e;if(r){const m=!!(t||n.title);return a("div",{key:f?1:0,class:i("content",{isolated:!m})},[k(m)])}},G=()=>a("div",{class:[fe,i("footer")]},[e.showCancelButton&&a(S,{size:"large",text:e.cancelButtonText||b("cancel"),class:i("cancel"),style:{color:e.cancelButtonColor},loading:s.cancel,disabled:e.cancelButtonDisabled,onClick:B},null),e.showConfirmButton&&a(S,{size:"large",text:e.confirmButtonText||b("confirm"),class:[i("confirm"),{[de]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:s.confirm,disabled:e.confirmButtonDisabled,onClick:g},null)]),W=()=>a(Te,{class:i("footer")},{default:()=>[e.showCancelButton&&a(F,{type:"warning",text:e.cancelButtonText||b("cancel"),class:i("cancel"),color:e.cancelButtonColor,loading:s.cancel,disabled:e.cancelButtonDisabled,onClick:B},null),e.showConfirmButton&&a(F,{type:"danger",text:e.confirmButtonText||b("confirm"),class:i("confirm"),color:e.confirmButtonColor,loading:s.confirm,disabled:e.confirmButtonDisabled,onClick:g},null)]}),M=()=>n.footer?n.footer():e.theme==="round-button"?W():G();return()=>{const{width:t,title:r,theme:f,message:m,className:h}=e;return a(ae,K({ref:l,role:"dialog",class:[i([f]),h],style:{width:oe(t)},tabindex:0,"aria-labelledby":r||m,onKeydown:y,"onUpdate:show":d},te(e,Re)),{default:()=>[_(),V(),M()]})}}});let P;const Fe={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1,destroyOnClose:!1};let He=C({},Fe);function Ke(){({instance:P}=Be({setup(){const{state:o,toggle:n}=ge();return()=>a(L,K(o,{"onUpdate:show":n}),null)}}))}function $e(e){return me?new Promise((o,n)=>{P||Ke(),P.open(C({},He,e,{callback:l=>{(l==="confirm"?o:n)(l)}}))}):Promise.resolve(void 0)}const Ue=e=>$e(C({showCancelButton:!0},e));O(L);const Le="3.13.1",ze={class:"text-center"},Ve={class:"text-gray mt-10"},z=w({__name:"index",setup(e){const o=Ce(),n=x(()=>o.userInfo);function l(){Ue({title:"确认退出？"}).then(()=>{o.logout(),_e.push({name:"Home"})}).catch(()=>{})}return(s,d)=>{const u=xe,c=pe;return E(),he("div",ze,[a(c,{inset:!0},{default:ve(()=>[A(n).uid?(E(),we(u,{key:0,title:"退出登录",clickable:"",class:"van-text-color",onClick:l})):ye("",!0)]),_:1}),be("div",Ve,I("当前版本")+": v"+I(A(Le)),1)])}}});typeof N=="function"&&N(z);const Ze=ke(z,[["__scopeId","data-v-445cec47"]]);export{Ze as default};
