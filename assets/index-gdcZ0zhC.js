import{U as T,d as Z,l as I,u as S,m as P,r as l,V as R,n as $,f as F,c as j,o as x,a as o,e as n,q as f,W as b,X as k,b as t,t as _,x as q,H as D,Y as L,k as O,v as c,y as E,_ as z}from"./index-BS8FVB4C.js";import{C as W}from"./index-C0TVZve0.js";import"./index-DbDsBmEX.js";import{F as X,a as Y}from"./index-DOONYFqD.js";import{s as J,a as K,b as Q,c as ee}from"./function-call-DsQztS0C.js";import{B as te}from"./index-DZB7icrh.js";import{b as h}from"./route-block-B_A1xBdJ.js";import"./index-BVU_NsVF.js";T(J);const C="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='27.143'%20height='38'%20viewBox='0%200%2027.143%2038'%3e%3cdefs%3e%3clinearGradient%20id='linear-gradient'%20x1='0.5'%20x2='0.5'%20y2='1'%20gradientUnits='objectBoundingBox'%3e%3cstop%20offset='0'%20stop-color='%233fa1fc'/%3e%3cstop%20offset='1'%20stop-color='%235860da'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20id='组_5015'%20data-name='组%205015'%20transform='translate(-110.429%20-390.5)'%3e%3cpath%20id='路径_4999'%20data-name='路径%204999'%20d='M212.357,64a6.786,6.786,0,0,1,6.786,6.786V95.214A6.786,6.786,0,0,1,212.357,102H198.786A6.786,6.786,0,0,1,192,95.214V70.786A6.786,6.786,0,0,1,198.786,64Zm0,2.714H198.786a4.071,4.071,0,0,0-4.071,4.071V95.214a4.071,4.071,0,0,0,4.071,4.071h13.571a4.071,4.071,0,0,0,4.071-4.071V70.786A4.071,4.071,0,0,0,212.357,66.714ZM208.286,92.5a1.357,1.357,0,1,1,0,2.714h-5.429a1.357,1.357,0,1,1,0-2.714Z'%20transform='translate(-81.571%20326.5)'%20fill='url(%23linear-gradient)'/%3e%3c/g%3e%3c/svg%3e",oe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='27.4'%20height='32.234'%20viewBox='0%200%2027.4%2032.234'%3e%3cdefs%3e%3clinearGradient%20id='linear-gradient'%20x1='0.5'%20x2='0.5'%20y2='1'%20gradientUnits='objectBoundingBox'%3e%3cstop%20offset='0'%20stop-color='%233fa1fc'/%3e%3cstop%20offset='1'%20stop-color='%235860da'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20id='组_5260'%20data-name='组%205260'%20transform='translate(-40.5%20-660.001)'%3e%3cpath%20id='密_码'%20data-name='密%20码'%20d='M108.273,29.2a2.418,2.418,0,0,1,2.418,2.418V42.9a2.418,2.418,0,0,1-2.418,2.418H90.545A2.418,2.418,0,0,1,88.127,42.9V31.615A2.418,2.418,0,0,1,90.545,29.2h17.729m0-2.418H90.545a4.836,4.836,0,0,0-4.836,4.836V42.9a4.835,4.835,0,0,0,4.834,4.834h17.73a4.836,4.836,0,0,0,4.836-4.834V31.615A4.836,4.836,0,0,0,108.273,26.779Zm-8.864-8.864a5.64,5.64,0,0,1,5.64,5.641V26.78H93.77V23.556a5.64,5.64,0,0,1,5.64-5.64m0-2.418a8.059,8.059,0,0,0-8.059,8.058V29.2h16.118v-5.64a8.059,8.059,0,0,0-8.061-8.06Zm0,25.384A1.208,1.208,0,0,1,98.2,39.674V34.838a1.208,1.208,0,0,1,2.416,0v4.836a1.208,1.208,0,0,1-1.208,1.208Z'%20transform='translate(-45.209%20644.504)'%20fill='url(%23linear-gradient)'/%3e%3c/g%3e%3c/svg%3e",se="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='29.418'%20height='24.899'%20viewBox='0%200%2029.418%2024.899'%3e%3cdefs%3e%3clinearGradient%20id='linear-gradient'%20x1='0.5'%20x2='0.5'%20y2='1'%20gradientUnits='objectBoundingBox'%3e%3cstop%20offset='0'%20stop-color='%233fa1fc'/%3e%3cstop%20offset='1'%20stop-color='%235860da'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20id='组_5016'%20data-name='组%205016'%20transform='translate(-111.345%20-507.5)'%3e%3cpath%20id='路径_5000'%20data-name='路径%205000'%20d='M26.322,0H4.811A4.037,4.037,0,0,0,1,4.169V20.73A4.061,4.061,0,0,0,4.953,24.9H26.462a4.058,4.058,0,0,0,3.955-4.169V4.169C30.134,1.94,28.441,0,26.322,0ZM26.1,2.855A1.385,1.385,0,0,1,27.567,4.4L16.344,11.1a1.458,1.458,0,0,1-1.555,0L3.569,4.4c0-1.042.482-1.545,1.47-1.545H26.1ZM5.039,22.188A1.388,1.388,0,0,1,3.572,20.64V7.562l10.091,6.19a3.122,3.122,0,0,0,1.979.6,3.114,3.114,0,0,0,1.974-.6l10.1-6.192V20.49c-.142,1.044-.624,1.7-1.611,1.7H5.039Z'%20transform='translate(110.345%20507.5)'%20fill='url(%23linear-gradient)'/%3e%3c/g%3e%3c/svg%3e",ae={class:"login-page page-bgcolor m-x-a text-center bg-[#fff]"},re={class:"mobile-inputs"},le={class:"mobile-inputs"},ne={class:"mobile-inputs"},ie={class:"mobile-inputs"},de={class:"text-[14px] text-blue-600 mt-16 cursor-pointer"},ue={class:"clause centerflex mb-17px"},B=Z({__name:"index",setup(me){const M=I(),w=S(),A=P(),p=l(!1),r=l(60),i=l(!1),g=l(window.outerHeight),V=l(null),v=R(),u=l(!1),a=$({userName:"",userPassword:"",mobile:"",verifyCode:""});async function H(d){var e;(e=V.value)==null||e.validate().then(async()=>{try{if(!u.value){K("请先了解隐私协议和服务条款的内容");return}v.routerInn=[],p.value=!0,Q("登录中..."),await A.login({...a,...d}),ee("登录成功，即将进入系统"),M.replace("/project")}finally{p.value=!1}}).catch(()=>{console.error("验证失败")})}function U(){if(r.value/1<60)return;const{mobile:d}=a;if(!/^1[3-9]\d{9}$/.test(d)||!d){E({type:"danger",message:"请输入正确的手机号"});return}r.value=59;const e=setInterval(()=>{r.value--,r.value/1===0&&(r.value=60,clearInterval(e))},1e3)}return F(()=>{setTimeout(()=>{g.value=window.outerHeight},0)}),(d,e)=>{const m=X,y=W,G=Y,N=te;return x(),j("div",ae,[o("div",{style:q({height:t(g)?"".concat(t(g)-85,"px"):""})},[e[12]||(e[12]=o("div",null,[o("h1",{class:"text-[30px] font-bold py-[80px]"}," 临床研究数据采集平台 ")],-1)),n(G,{ref_key:"formRef",ref:V,model:t(a),class:"form-modules-body mx-20"},{default:f(()=>[t(i)?k("",!0):(x(),b(y,{key:0,inset:"",class:"form-modules-body"},{default:f(()=>[o("div",re,[e[8]||(e[8]=o("img",{src:C,alt:""},null,-1)),n(m,{modelValue:t(a).userName,"onUpdate:modelValue":e[0]||(e[0]=s=>t(a).userName=s),modelModifiers:{trim:!0},placeholder:"账号",name:"userName",rules:[{required:!0,message:"请填写账号"}]},null,8,["modelValue"])]),o("div",le,[e[9]||(e[9]=o("img",{src:oe,alt:""},null,-1)),n(m,{modelValue:t(a).userPassword,"onUpdate:modelValue":e[1]||(e[1]=s=>t(a).userPassword=s),modelModifiers:{trim:!0},type:"password",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"])])]),_:1})),t(i)?(x(),b(y,{key:1,inset:"",class:"form-modules-body"},{default:f(()=>[o("div",ne,[e[10]||(e[10]=o("img",{src:C,alt:""},null,-1)),n(m,{modelValue:t(a).mobile,"onUpdate:modelValue":e[2]||(e[2]=s=>t(a).mobile=s),modelModifiers:{trim:!0},placeholder:"手机号",rules:[{validator:s=>/^[1][3-9][0-9]{9}$/.test(s),message:"请输入正确的手机号"}]},null,8,["modelValue","rules"])]),o("div",ie,[e[11]||(e[11]=o("img",{src:se,alt:""},null,-1)),n(m,{modelValue:t(a).verifyCode,"onUpdate:modelValue":e[3]||(e[3]=s=>t(a).verifyCode=s),modelModifiers:{trim:!0},placeholder:"验证码",maxlength:"6",rules:[{required:!0,message:"请填验证码"}]},null,8,["modelValue"])]),o("div",{class:"getverify",onClick:U}," |  "+_(t(r)>59?"获取验证码":t(r)),1)]),_:1})):k("",!0)]),_:1},8,["model"]),o("div",de,[o("span",{onClick:e[4]||(e[4]=s=>i.value=!t(i))},_(t(i)?"使用账号密码登录":"使用手机验证码登录"),1)])],4),o("div",ue,[D(o("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>O(u)?u.value=s:null),type:"checkbox",class:"mr-[8px]"},null,512),[[L,t(u)]]),o("span",null,[e[13]||(e[13]=c("我已充分了解并同意 ",-1)),o("span",{class:"links",onClick:e[6]||(e[6]=s=>t(v).routerGoFun("routerInnPush","TermsOfService",{},t(w).name))},"服务条款"),e[14]||(e[14]=c(" 和 ",-1)),o("span",{class:"links",onClick:e[7]||(e[7]=s=>t(v).routerGoFun("routerInnPush","PrivacyAgreement",{},t(w).name))},"隐私协议"),e[15]||(e[15]=c(" 的内容",-1))])]),n(N,{class:"!rounded-none !border-none !h-[50px]",type:"primary",block:"",loading:t(p),onClick:H},{default:f(()=>[...e[16]||(e[16]=[c(" 登 录 ",-1)])]),_:1},8,["loading"])])}}});typeof h=="function"&&h(B);const ye=z(B,[["__scopeId","data-v-ace62023"]]);export{ye as default};
